# TA (Technical Assistant) 機能一覧

## 概要
TA (Technical Assistant) は、AI を活用した企業向けのナレッジマネジメントシステムです。
社内の技術情報を一元管理し、AI による質問応答、専門家へのヒアリング、外部サービスとの連携を通じて、効率的な情報活用を実現します。

## 主要機能

### 1. AI 質問応答システム

#### 1.1 基本機能
- **チャット形式の質問応答**: ユーザーが自然言語で質問を投げかけ、AI が回答を生成
- **マルチモーダル対応**: テキストに加えて画像、PDF、その他のファイルをアップロードして質問可能
- **会話履歴管理**: 過去の質問と回答をチケット形式で保存・参照可能
- **プロセスログ表示**: AI の処理過程をリアルタイムで可視化

#### 1.2 動作モード
- **FAQ モード**: 事前に登録されたナレッジベースから最適な回答を検索・生成
- **ヒアリングモード**: AI が回答できない場合、適切な専門家に質問を転送
- **AI 自動ヒアリングモード**: AI が追加の質問を行い、より詳細で正確な回答を生成

#### 1.3 質問管理
- **質問一覧表示**: 過去の質問履歴を検索・フィルタリング可能
- **質問の分類**: 自動的に質問をカテゴリ分類
- **関連質問の表示**: 類似の過去の質問を表示

### 2. ナレッジ管理

#### 2.1 ナレッジソース
- **ファイルアップロード**: PDF、DOCX、TXT、その他多様なファイル形式に対応
- **テキスト直接入力**: FAQ や手順書などを直接テキストで登録
- **Web クローラー**: 指定したウェブサイトから情報を自動収集（サイトマップ対応）
- **外部サービス連携**:
  - GitHub: リポジトリ、プルリクエスト、イシューの情報を自動同期
  - Google Drive: ドキュメントの自動同期と更新検知
  - Slack: 会話履歴からナレッジを抽出
  - Notion: ページやデータベースの情報を取り込み

#### 2.2 ナレッジ整理・管理
- **ナレッジグループ**: 階層的な分類でナレッジを整理
- **タグ付け**: 複数のタグでナレッジを分類・検索
- **バージョン管理**: ナレッジの更新履歴を管理
- **一括操作**: 複数のナレッジを選択して一括削除・更新

#### 2.3 アクセス制御
- **ユーザーグループ別権限**: 部門やチームごとにアクセス可能なナレッジを制限
- **公開・非公開設定**: ナレッジごとに公開範囲を設定

### 3. ヒアリング機能

#### 3.1 専門家への質問転送
- **自動転送**: AI が回答できない質問を適切な専門家に自動転送
- **手動転送**: ユーザーが任意で専門家を指定して転送
- **転送理由の記録**: なぜ転送が必要かの理由を保存

#### 3.2 ヒアリング管理
- **ヒアリング一覧**: 転送された質問の一覧表示と状態管理
- **回答ステータス**: 未回答、回答中、回答済みのステータス管理
- **ヒアリングスキップ**: 必要に応じてヒアリングをスキップ可能

#### 3.3 人事情報との連携
- **専門分野の管理**: 各従業員の専門分野を登録
- **自動マッチング**: 質問内容に基づいて最適な専門家を自動選定

### 4. 外部サービス連携

#### 4.1 GitHub 連携
- **プルリクエスト分析**:
  - PR の統計情報（作成数、マージ数、レビュー時間）
  - コード変更量の可視化
  - ユーザー別の貢献度分析
- **リポジトリ情報同期**: README、ドキュメントの自動取り込み
- **イシュー管理**: イシューの内容をナレッジとして活用

#### 4.2 Slack 連携
- **メッセージ同期**: 特定チャンネルの会話をナレッジ化
- **ユーザー連携**: Slack ユーザーと TA ユーザーの紐付け
- **Slack 経由の質問**: Slack から直接 TA に質問可能

#### 4.3 Google Drive 連携
- **ドキュメント同期**: Google ドキュメント、スプレッドシートの自動同期
- **更新検知**: ファイルの更新を自動検知してナレッジを更新
- **OAuth 認証**: セキュアな認証による安全な接続

#### 4.4 Notion 連携
- **ページ同期**: Notion ページをナレッジとして取り込み
- **データベース連携**: Notion データベースの情報を活用

### 5. Dify 統合

#### 5.1 Dify アプリケーション
- **タイトル生成**: 質問から適切なタイトルを自動生成
- **検索キーワード生成**: 効果的な検索キーワードを生成
- **ヒアリング応答**: ヒアリング時の応答を生成
- **FAQ 応答**: FAQ モードでの回答生成
- **質問分類**: 質問を自動的にカテゴリ分類
- **Slack 割り込み処理**: Slack 経由の質問を処理

#### 5.2 モード管理
- **カスタムモード作成**: 複数の Dify アプリを組み合わせたモードを作成
- **デフォルトモード設定**: テナントごとのデフォルト動作を設定
- **モード切り替え**: 用途に応じて動作モードを切り替え

### 6. 管理機能

#### 6.1 テナント管理
- **マルチテナント対応**: 複数の組織で同一システムを利用可能
- **テナント別設定**: 各テナントで独立した設定管理
- **データ分離**: Row Level Security による完全なデータ分離

#### 6.2 ユーザー管理
- **Auth0 認証**: セキュアな認証システム
- **権限管理**: admin、tenantAdmin、user の 3 つのロール
- **ユーザーグループ**: 部門やチーム単位でのグループ管理
- **アクセス制御**: グループ単位でのナレッジアクセス制御

#### 6.3 システム管理
- **クロールキュー管理**: Web クローラーのタスク管理と実行状況監視
- **ナレッジツール管理**: 外部連携サービスの設定管理
- **ログ管理**: システムログ、エラーログの管理

### 7. その他の機能

#### 7.1 ファイル管理
- **Google Cloud Storage 連携**: 安全なファイルストレージ
- **ファイルアップロード**: ドラッグ&ドロップ対応のファイルアップロード
- **ファイルプレビュー**: PDF、画像ファイルのプレビュー機能

#### 7.2 UI/UX
- **レスポンシブデザイン**: PC、タブレット、スマートフォン対応
- **ダークモード**: 目に優しいダークモード対応（予定）
- **多言語対応**: 日本語・英語対応（拡張可能）

#### 7.3 開発・運用
- **Docker 対応**: Docker Compose による簡単な環境構築
- **Kubernetes 対応**: 本番環境での Kubernetes デプロイメント
- **CI/CD**: GitHub Actions による自動デプロイ
- **監視**: エラー監視、パフォーマンス監視

## 技術仕様

### フロントエンド
- Next.js 15 (App Router)
- React 18
- TypeScript
- Tailwind CSS
- Zustand (状態管理)

### バックエンド
- tRPC (型安全な API)
- Prisma ORM
- PostgreSQL
- Auth0 (認証)

### インフラ
- Google Cloud Platform
- Google Cloud Storage
- Kubernetes
- Docker

### 外部サービス
- Dify (AI プラットフォーム)
- GitHub API
- Slack API
- Google Drive API
- Notion API

## セキュリティ機能
- OAuth 2.0 による安全な外部サービス連携
- Row Level Security によるデータアクセス制御
- Auth0 による企業レベルの認証
- API キーの安全な管理
- HTTPS 通信の強制

## 今後の拡張予定
- Microsoft Teams 連携
- Confluence 連携
- より高度な AI 機能（要約、翻訳など）
- カスタムプラグイン機能
- API 公開による外部システム連携